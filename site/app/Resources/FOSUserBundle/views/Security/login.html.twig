{% extends "FOSUserBundle::layout.html.twig" %}

{% trans_default_domain 'FOSUserBundle' %}

{% block fos_user_content %}

<div class="mx-auto" style="width:280px; margin-top:40px">
<div class="card">
  <div class="card-header"><h3 class="card-title">Log in</h3></div>
  <div class="card-body">

{% if error %}
  <div class="alert alert-danger" role="alert">
    {% if get_class(error) == "Symfony\\Component\\Security\\Core\\Exception\\DisabledException" %}
      <p>Your need to activate your account before you can login. Follow the instructions sent to your registered email address.</p>
      <p>To resend your confirmation email <a href="{{ path('librecores_user_resend_confirmation') }}">click here</a>.</p>
    {% else %}
    {{ error.messageKey|trans(error.messageData, 'security') }}
    {% endif %}
  </div>
{% endif %}

  <form action="{{ path("fos_user_security_check") }}" method="post">
    <input type="hidden" name="_csrf_token" value="{{ csrf_token }}" />

    <div class="form-group">
      <label for="username">Email or Username:</label>
      <input type="text" class="form-control" id="username" name="_username" value="{{ last_username }}" required="required" />
    </div>

    <div class="form-group">
      <label for="password">{{ 'security.login.password'|trans }}</label>
      <input type="password" class="form-control" id="password" name="_password" required="required" />
    </div>

    <div class="checkbox">
      <label>
      <input type="checkbox" id="remember_me" name="_remember_me" value="on" />
      {{ 'security.login.remember_me'|trans }}
      </label>
    </div>

    <button class="btn btn-success btn-block" type="submit" id="_submit" name="_submit">Log in</button>
  </form>

<div class="or-container">
    <hr class="or-hr" />
    <div id="or">or</div>
</div>


  <a class="btn btn-block btn-social btn-github" href="{{ hwi_oauth_login_url("github") }}">
    <i class="fa fa-github"></i> Sign in with GitHub
  </a>
  <a class="btn btn-block btn-social btn-google" href="{{ hwi_oauth_login_url("google") }}">
    <i class="fa fa-google"></i> Sign in with Google
  </a>

  <hr/>
  <div class="text-center">
    Don't have an account yet?<br/>
    <a href="{{ path('fos_user_registration_register') }}" style="font-weight: bold">Register now</a>
  </div>
  <hr/>
  <div class="text-center">
    Forgot your password?<br/>
    <a href="{{ path('fos_user_resetting_request') }}" style="font-weight: bold">Reset Password</a>
  </div>
</div>
</div>
</div>

{% endblock fos_user_content %}
